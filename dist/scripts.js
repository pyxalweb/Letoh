import PhotoSwipeLightbox from"/wp-content/themes/letoh/dist/photoswipe-lightbox.esm.js";!function(){const e=document.querySelector("#banner"),t=document.querySelector("#banner .banner-close"),o=document.querySelector("#site-header"),n=document.querySelector(".nav-traditional"),s=document.querySelectorAll(".nav-traditional > ul > li > a"),a=document.querySelectorAll(".nav-traditional .nav-sub"),r=document.querySelector(".overlay-nav-toggle"),l=document.querySelector(".overlay-nav"),i=document.querySelectorAll(".overlay-nav .nav-item"),c=document.querySelectorAll(".overlay-nav .nav-link"),d=document.querySelector(".overlay-nav .nav-close"),u=document.querySelector(".masthead-slideshow .swiper");window.onload=e=>{document.querySelector("body").classList.remove("preload")},document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))}));e&&t.addEventListener("click",(()=>{e.classList.add("hide"),h()}));(()=>{const e=()=>{s.forEach((e=>{e.classList.remove("is-focused")})),a.forEach((e=>{e.classList.remove("is-focused")}))};s.forEach((t=>{t.addEventListener("focus",(()=>{e(),t.classList.add("is-focused");let o=t.nextElementSibling;o&&o.classList.add("is-focused")})),t.addEventListener("click",(()=>{e()}))})),document.querySelectorAll("a").forEach((t=>{t.addEventListener("focus",(()=>{t.classList.contains("nav-link")||e()}))})),document.addEventListener("keydown",(t=>{s.forEach((o=>{o.classList.contains("is-focused")&&27==t.keyCode&&e()}))})),document.addEventListener("click",(t=>{s.forEach((o=>{if(o.classList.contains("is-focused")){let o=t.target;do{if(o==n)return;o=o.parentNode}while(o);e()}}))}))})();document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.querySelectorAll(".nav-traditional .nav-item > a"),t=window.location.href;let o=t.substring(t.lastIndexOf("/"));const n=o.split(/\#.*$/g);o=n[0],e.forEach((function(e){const t=e.getAttribute("href");e.href.indexOf(o)>-1&&"/"!==o&&"#"!==t&&(e.classList.add("current-page"),e.addEventListener("click",(e=>{e.preventDefault()})))}))})()}));(()=>{const e=()=>{c.forEach((e=>{e.setAttribute("tabindex","-1")}))};e();const t=()=>{l.classList.toggle("show"),c.forEach((e=>{e.setAttribute("tabindex","0")})),l.setAttribute("tabindex","0"),l.focus(),r.classList.add("clicked")},o=()=>{l.classList.remove("show"),e(),l.setAttribute("tabindex","-1"),r.focus(),r.classList.remove("clicked"),(()=>{const e=l.querySelector(".dropdown-toggle"),t=l.querySelector(".nav-sub");e&&(e.classList.remove("show"),t.classList.remove("show"))})()};r.addEventListener("click",(()=>{l.classList.contains("show")?o():t()})),document.addEventListener("keydown",(e=>{l.classList.contains("show")&&27==e.keyCode&&o()})),document.addEventListener("click",(e=>{if(l.classList.contains("show")){let t=e.target;do{if(t==l||t==r)return;t=t.parentNode}while(t);o()}})),d.addEventListener("click",(e=>{l.classList.contains("show")&&o()}))})();i.forEach((e=>{const t=e.querySelector(".nav-sub"),o=e.querySelector(".nav-link");null!==t&&(e.classList.add("has-dropdown"),o.insertAdjacentHTML("beforeend",'<span class="dropdown-toggle" aria-label="Expand or Collapse Dropdown" role="button" tabindex="-1"></span>'))})),l.querySelectorAll(".has-dropdown").forEach((e=>{const t=e.querySelector(".dropdown-toggle"),o=e.querySelector(".nav-sub");t&&(t.addEventListener("click",(function(e){this.classList.toggle("show"),o.classList.toggle("show"),e.preventDefault()})),t.addEventListener("keydown",(function(e){13==e.keyCode&&(this.classList.toggle("show"),o.classList.toggle("show"),e.preventDefault())})))})),r.addEventListener("click",(e=>{const t=document.querySelectorAll(".dropdown-toggle");l.classList.contains("show")?t.forEach((e=>{e.setAttribute("tabindex","0")})):t.forEach((e=>{e.setAttribute("tabindex","-1")}))}));(()=>{const e=document.querySelector(".booking-toggle"),t=document.querySelector(".overlay-booking"),o=document.querySelector(".overlay-booking .booking-close"),n=".overlay-booking form .booking-input *";document.querySelectorAll(n);const s=()=>{e.classList.remove("has-focus"),t.classList.remove("show"),t.setAttribute("tabindex","-1"),t.blur(),e.blur()},a=()=>{document.querySelectorAll(n).forEach((e=>{e.setAttribute("tabindex","-1")}))};a(),e.addEventListener("click",(o=>{t.classList.contains("show")?(s(),a()):(e.classList.toggle("has-focus"),t.classList.toggle("show"),t.setAttribute("tabindex","0"),t.focus(),document.querySelectorAll(n).forEach((e=>{e.setAttribute("tabindex","0")}))),o.preventDefault()})),document.addEventListener("keydown",(e=>{t.classList.contains("show")&&27==e.keyCode&&(s(),a())})),document.addEventListener("click",(o=>{if(t.classList.contains("show")){const n=document.querySelector(".arrival-calendar"),r=document.querySelector(".departure-calendar");let l=o.target;do{if(l==t||l==e||l==n||l==r)return;l=l.parentNode}while(l);s(),a()}})),o.addEventListener("click",(()=>{s(),a()}))})();const p=e=>{const t=e.querySelector(".booking"),o=e.querySelector(".booking-submit"),n=e.querySelector(".arrival"),s=e.querySelector(".departure"),a="Arrival Date",r="Departure Date";n.setAttribute("placeholder",a),s.setAttribute("placeholder",r);const l=flatpickr(n,{minDate:"today",disableMobile:"true",monthSelectorType:"static",altInput:!0,altFormat:"m/d/Y",dateFormat:"Y-m-d",onReady:(e,t,o)=>{o.altInput.setAttribute("aria-label",a)}}),i=flatpickr(s,{minDate:(new Date).fp_incr(1),disableMobile:"true",monthSelectorType:"static",altInput:!0,altFormat:"m/d/Y",dateFormat:"Y-m-d",onReady:(e,t,o)=>{o.altInput.setAttribute("aria-label",r)}});l.calendarContainer.classList.add("arrival-calendar"),i.calendarContainer.classList.add("departure-calendar");let c=l.selectedDates,d=i.selectedDates,u=new Date(c),p=new Date(d);const h=()=>{c=l.selectedDates,d=i.selectedDates,u=new Date(c),p=new Date(d)};[n,s].forEach((e=>{e.addEventListener("change",(()=>{h()}))}));let w=864e5,v=0,m=()=>{v=p-u};n.addEventListener("change",(()=>{m(),(0==d.length||0!==d.length&&v<w)&&(p=new Date(u),p.setDate(u.getDate()+2),i.setDate(p)),h()})),s.addEventListener("change",(()=>{m(),(0==c.length||0!==c.length&&v<w)&&(u=new Date(p),u.setDate(p.getDate()-2),l.setDate(u)),h()}));let g=!1;document.querySelector("body").insertAdjacentHTML("beforeend",'<div class="booking-error"><div class="booking-error-content"><p></p></div></div>');const y=document.querySelector(".booking-error"),f=document.querySelector(".booking-error p");o.addEventListener("click",(e=>{const o=t=>{g||(g=!0,f.textContent=t,y.classList.add("show"),setTimeout((function(){g=!1,y.classList.remove("show")}),4e3)),e.preventDefault()};if(0==c.length&&0==d.length)o("Please select an arrival and departure date");else if(0==c.length)o("Please select an arrival date");else if(0==d.length)o("Please select a departure date");else{try{gtag("event","click",{event_category:"Booking",event_label:"Booking Form Submit"})}catch(e){}t.submit(),e.preventDefault()}}))};p(document.querySelector("#booking-1")),p(document.querySelector("#booking-2"));const h=()=>{const t=null!=e?e.offsetHeight:0,n=null!=o?o.offsetHeight:0;let s=window.innerHeight-n-t;u&&(u.style.height=s+"px")};h(),window.addEventListener("resize",(()=>{h()}));new Swiper(".masthead-slideshow .swiper",{effect:"fade",loop:!0,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const w=document.querySelector(".masthead-slideshow .swiper .swiper-wrapper"),v=document.querySelectorAll(".masthead-slideshow .swiper .swiper-nav");w&&w.childElementCount<=3&&v.forEach((e=>{e.classList.add("hide")}));new Swiper(".content-slideshow .swiper",{effect:"fade",loop:!0,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});const m=document.querySelector(".content-slideshow .swiper .swiper-wrapper"),g=document.querySelectorAll(".content-slideshow .swiper .swiper-nav");m&&m.childElementCount<=3&&g.forEach((e=>{e.classList.add("hide")}));new Swiper(".centered-slideshow .swiper",{slidesPerView:2,centeredSlides:!0,spaceBetween:20,autoplay:{delay:5e3},breakpoints:{1960:{slidesPerView:5,spaceBetween:0},1460:{spaceBetween:120},1360:{spaceBetween:100},1024:{spaceBetween:80},700:{spaceBetween:60}},loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".content-overlap .swiper",{effect:"fade",loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0}});const y=new PhotoSwipeLightbox({gallery:".photoswipe",children:"a",pswpModule:"/wp-content/themes/letoh/dist/photoswipe-lightbox.esm.js"});y.on("uiRegister",(function(){y.pswp.ui.registerElement({name:"custom-caption",order:9,isButton:!1,appendTo:"root",html:"Caption text",onInit:(e,t)=>{y.pswp.on("change",(()=>{const t=y.pswp.currSlide.data.element;let o="";if(t){const e=t.querySelector(".hidden-caption-content");o=e?e.innerHTML:t.querySelector("img").getAttribute("alt")}e.innerHTML=o||""}))}})})),y.init();document.querySelectorAll(".accordion-item").forEach((e=>{const t=e.querySelector(".accordion-title a"),o=e.querySelector(".accordion-content");t.addEventListener("click",(()=>{t.classList.toggle("expanded"),o.classList.toggle("show")}))}))}();
//# sourceMappingURL=scripts.js.map